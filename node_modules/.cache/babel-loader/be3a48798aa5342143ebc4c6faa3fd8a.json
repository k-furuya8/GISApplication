{"ast":null,"code":"/**\n * @module ol/interaction/Link\n */\nimport EventType from '../events/EventType.js';\nimport Interaction from './Interaction.js';\nimport MapEventType from '../MapEventType.js';\nimport { listen, unlistenByKey } from '../events.js';\nimport { toFixed } from '../math.js';\n/**\n * @param {number} number A number.\n * @return {number} A number with at most 5 decimal places.\n */\n\nfunction to5(number) {\n  return toFixed(number, 5);\n}\n/**\n * @param {string} string A string.\n * @return {number} A number representing the string.\n */\n\n\nfunction readNumber(string) {\n  return parseFloat(string);\n}\n/**\n * @param {number} number A number.\n * @return {string} A string representing the number.\n */\n\n\nfunction writeNumber(number) {\n  return to5(number).toString();\n}\n/**\n * @param {number} a A number.\n * @param {number} b A number.\n * @return {boolean} The numbers are different.\n */\n\n\nfunction differentNumber(a, b) {\n  if (isNaN(a)) {\n    return false;\n  }\n\n  return a !== readNumber(writeNumber(b));\n}\n/**\n * @param {Array<number>} a An array of two numbers.\n * @param {Array<number>} b An array of two numbers.\n * @return {boolean} The arrays are different.\n */\n\n\nfunction differentArray(a, b) {\n  return differentNumber(a[0], b[0]) || differentNumber(a[1], b[1]);\n}\n/**\n * @typedef {Object} Options\n * @property {boolean|import('../View.js').AnimationOptions} [animate=true] Animate view transitions.\n * @property {boolean} [replace=false] Replace the current URL without creating the new entry in browser history.\n * By default, changes in the map state result in a new entry being added to the browser history.\n * @property {string} [prefix=''] By default, the URL will be updated with search parameters x, y, z, and r.  To\n * avoid collisions with existing search parameters that your application uses, you can supply a custom prefix for\n * the ones used by this interaction (e.g. 'ol:').\n */\n\n/**\n * @classdesc\n * An interaction that synchronizes the map state with the URL.\n *\n * @api\n */\n\n\nclass Link extends Interaction {\n  /**\n   * @param {Options} [options] Link options.\n   */\n  constructor(options) {\n    super();\n    options = Object.assign({\n      animate: true,\n      replace: false,\n      prefix: ''\n    }, options || {});\n    let animationOptions;\n\n    if (options.animate === true) {\n      animationOptions = {\n        duration: 250\n      };\n    } else if (!options.animate) {\n      animationOptions = null;\n    } else {\n      animationOptions = options.animate;\n    }\n    /**\n     * @type {import('../View.js').AnimationOptions|null}\n     * @private\n     */\n\n\n    this.animationOptions_ = animationOptions;\n    /**\n     * @private\n     * @type {boolean}\n     */\n\n    this.replace_ = options.replace;\n    /**\n     * @private\n     * @type {string}\n     */\n\n    this.prefix_ = options.prefix;\n    /**\n     * @private\n     * @type {!Array<import(\"../events.js\").EventsKey>}\n     */\n\n    this.listenerKeys_ = [];\n    /**\n     * @private\n     * @type {boolean}\n     */\n\n    this.initial_ = true;\n    this.updateState_ = this.updateState_.bind(this);\n  }\n  /**\n   * @private\n   * @param {string} name A parameter name.\n   * @return {string} A name with the prefix applied.\n   */\n\n\n  getParamName_(name) {\n    if (!this.prefix_) {\n      return name;\n    }\n\n    return this.prefix_ + name;\n  }\n  /**\n   * @private\n   * @param {URLSearchParams} params The search params.\n   * @param {string} name The unprefixed parameter name.\n   * @return {string|null} The parameter value.\n   */\n\n\n  get_(params, name) {\n    return params.get(this.getParamName_(name));\n  }\n  /**\n   * @private\n   * @param {URLSearchParams} params The search params.\n   * @param {string} name The unprefixed parameter name.\n   * @param {string} value The param value.\n   */\n\n\n  set_(params, name, value) {\n    params.set(this.getParamName_(name), value);\n  }\n  /**\n   * @private\n   * @param {URLSearchParams} params The search params.\n   * @param {string} name The unprefixed parameter name.\n   */\n\n\n  delete_(params, name) {\n    params.delete(this.getParamName_(name));\n  }\n  /**\n   * @param {import(\"../Map.js\").default|null} map Map.\n   */\n\n\n  setMap(map) {\n    const oldMap = this.getMap();\n    super.setMap(map);\n\n    if (map === oldMap) {\n      return;\n    }\n\n    if (oldMap) {\n      this.unregisterListeners_(oldMap);\n    }\n\n    if (map) {\n      this.initial_ = true;\n      this.updateState_();\n      this.registerListeners_(map);\n    }\n  }\n  /**\n   * @param {import(\"../Map.js\").default} map Map.\n   * @private\n   */\n\n\n  registerListeners_(map) {\n    this.listenerKeys_.push(listen(map, MapEventType.MOVEEND, this.updateUrl_, this), listen(map.getLayerGroup(), EventType.CHANGE, this.updateUrl_, this), listen(map, 'change:layergroup', this.handleChangeLayerGroup_, this));\n\n    if (!this.replace_) {\n      addEventListener('popstate', this.updateState_);\n    }\n  }\n  /**\n   * @param {import(\"../Map.js\").default} map Map.\n   * @private\n   */\n\n\n  unregisterListeners_(map) {\n    for (let i = 0, ii = this.listenerKeys_.length; i < ii; ++i) {\n      unlistenByKey(this.listenerKeys_[i]);\n    }\n\n    this.listenerKeys_.length = 0;\n\n    if (!this.replace_) {\n      removeEventListener('popstate', this.updateState_);\n    }\n\n    const url = new URL(window.location.href);\n    const params = url.searchParams;\n    this.delete_(params, 'x');\n    this.delete_(params, 'y');\n    this.delete_(params, 'z');\n    this.delete_(params, 'r');\n    this.delete_(params, 'l');\n    window.history.replaceState(null, '', url);\n  }\n  /**\n   * @private\n   */\n\n\n  handleChangeLayerGroup_() {\n    const map = this.getMap();\n\n    if (!map) {\n      return;\n    }\n\n    this.unregisterListeners_(map);\n    this.registerListeners_(map);\n    this.initial_ = true;\n    this.updateUrl_();\n  }\n  /**\n   * @private\n   */\n\n\n  updateState_() {\n    const map = this.getMap();\n\n    if (!map) {\n      return;\n    }\n\n    const view = map.getView();\n\n    if (!view) {\n      return;\n    }\n\n    const url = new URL(window.location.href);\n    const params = url.searchParams;\n    let updateView = false;\n    /**\n     * @type {import('../View.js').AnimationOptions}\n     */\n\n    const viewProperties = {};\n    const zoom = readNumber(this.get_(params, 'z'));\n\n    if (differentNumber(zoom, view.getZoom())) {\n      updateView = true;\n      viewProperties.zoom = zoom;\n    }\n\n    const rotation = readNumber(this.get_(params, 'r'));\n\n    if (differentNumber(rotation, view.getRotation())) {\n      updateView = true;\n      viewProperties.rotation = rotation;\n    }\n\n    const center = [readNumber(this.get_(params, 'x')), readNumber(this.get_(params, 'y'))];\n\n    if (differentArray(center, view.getCenter())) {\n      updateView = true;\n      viewProperties.center = center;\n    }\n\n    if (updateView) {\n      if (!this.initial_ && this.animationOptions_) {\n        view.animate(Object.assign(viewProperties, this.animationOptions_));\n      } else {\n        if (viewProperties.center) {\n          view.setCenter(viewProperties.center);\n        }\n\n        if ('zoom' in viewProperties) {\n          view.setZoom(viewProperties.zoom);\n        }\n\n        if ('rotation' in viewProperties) {\n          view.setRotation(viewProperties.rotation);\n        }\n      }\n    }\n\n    const layers = map.getAllLayers();\n    const layersParam = this.get_(params, 'l');\n\n    if (layersParam && layersParam.length === layers.length) {\n      for (let i = 0, ii = layers.length; i < ii; ++i) {\n        const value = parseInt(layersParam[i]);\n\n        if (!isNaN(value)) {\n          const visible = Boolean(value);\n          const layer = layers[i];\n\n          if (layer.getVisible() !== visible) {\n            layer.setVisible(visible);\n          }\n        }\n      }\n    }\n  }\n  /**\n   * @private\n   */\n\n\n  updateUrl_() {\n    const map = this.getMap();\n\n    if (!map) {\n      return;\n    }\n\n    const view = map.getView();\n\n    if (!view) {\n      return;\n    }\n\n    const initial = this.initial_;\n    this.initial_ = false;\n    const center = view.getCenter();\n    const zoom = view.getZoom();\n    const rotation = view.getRotation();\n    const layers = map.getAllLayers();\n    const visibilities = new Array(layers.length);\n\n    for (let i = 0, ii = layers.length; i < ii; ++i) {\n      visibilities[i] = layers[i].getVisible() ? '1' : '0';\n    }\n\n    const url = new URL(window.location.href);\n    const params = url.searchParams;\n    this.set_(params, 'x', writeNumber(center[0]));\n    this.set_(params, 'y', writeNumber(center[1]));\n    this.set_(params, 'z', writeNumber(zoom));\n    this.set_(params, 'r', writeNumber(rotation));\n    this.set_(params, 'l', visibilities.join(''));\n\n    if (url.href !== window.location.href) {\n      if (initial || this.replace_) {\n        window.history.replaceState(null, '', url);\n      } else {\n        window.history.pushState(null, '', url);\n      }\n    }\n  }\n\n}\n\nexport default Link;","map":{"version":3,"names":["EventType","Interaction","MapEventType","listen","unlistenByKey","toFixed","to5","number","readNumber","string","parseFloat","writeNumber","toString","differentNumber","a","b","isNaN","differentArray","Link","constructor","options","Object","assign","animate","replace","prefix","animationOptions","duration","animationOptions_","replace_","prefix_","listenerKeys_","initial_","updateState_","bind","getParamName_","name","get_","params","get","set_","value","set","delete_","delete","setMap","map","oldMap","getMap","unregisterListeners_","registerListeners_","push","MOVEEND","updateUrl_","getLayerGroup","CHANGE","handleChangeLayerGroup_","addEventListener","i","ii","length","removeEventListener","url","URL","window","location","href","searchParams","history","replaceState","view","getView","updateView","viewProperties","zoom","getZoom","rotation","getRotation","center","getCenter","setCenter","setZoom","setRotation","layers","getAllLayers","layersParam","parseInt","visible","Boolean","layer","getVisible","setVisible","initial","visibilities","Array","join","pushState"],"sources":["C:/Users/81806/Documents/work/GIS_APP/gis_app1/node_modules/ol/interaction/Link.js"],"sourcesContent":["/**\n * @module ol/interaction/Link\n */\nimport EventType from '../events/EventType.js';\nimport Interaction from './Interaction.js';\nimport MapEventType from '../MapEventType.js';\nimport {listen, unlistenByKey} from '../events.js';\nimport {toFixed} from '../math.js';\n\n/**\n * @param {number} number A number.\n * @return {number} A number with at most 5 decimal places.\n */\nfunction to5(number) {\n  return toFixed(number, 5);\n}\n\n/**\n * @param {string} string A string.\n * @return {number} A number representing the string.\n */\nfunction readNumber(string) {\n  return parseFloat(string);\n}\n\n/**\n * @param {number} number A number.\n * @return {string} A string representing the number.\n */\nfunction writeNumber(number) {\n  return to5(number).toString();\n}\n\n/**\n * @param {number} a A number.\n * @param {number} b A number.\n * @return {boolean} The numbers are different.\n */\nfunction differentNumber(a, b) {\n  if (isNaN(a)) {\n    return false;\n  }\n  return a !== readNumber(writeNumber(b));\n}\n\n/**\n * @param {Array<number>} a An array of two numbers.\n * @param {Array<number>} b An array of two numbers.\n * @return {boolean} The arrays are different.\n */\nfunction differentArray(a, b) {\n  return differentNumber(a[0], b[0]) || differentNumber(a[1], b[1]);\n}\n\n/**\n * @typedef {Object} Options\n * @property {boolean|import('../View.js').AnimationOptions} [animate=true] Animate view transitions.\n * @property {boolean} [replace=false] Replace the current URL without creating the new entry in browser history.\n * By default, changes in the map state result in a new entry being added to the browser history.\n * @property {string} [prefix=''] By default, the URL will be updated with search parameters x, y, z, and r.  To\n * avoid collisions with existing search parameters that your application uses, you can supply a custom prefix for\n * the ones used by this interaction (e.g. 'ol:').\n */\n\n/**\n * @classdesc\n * An interaction that synchronizes the map state with the URL.\n *\n * @api\n */\nclass Link extends Interaction {\n  /**\n   * @param {Options} [options] Link options.\n   */\n  constructor(options) {\n    super();\n\n    options = Object.assign(\n      {animate: true, replace: false, prefix: ''},\n      options || {}\n    );\n\n    let animationOptions;\n    if (options.animate === true) {\n      animationOptions = {duration: 250};\n    } else if (!options.animate) {\n      animationOptions = null;\n    } else {\n      animationOptions = options.animate;\n    }\n\n    /**\n     * @type {import('../View.js').AnimationOptions|null}\n     * @private\n     */\n    this.animationOptions_ = animationOptions;\n\n    /**\n     * @private\n     * @type {boolean}\n     */\n    this.replace_ = options.replace;\n\n    /**\n     * @private\n     * @type {string}\n     */\n    this.prefix_ = options.prefix;\n\n    /**\n     * @private\n     * @type {!Array<import(\"../events.js\").EventsKey>}\n     */\n    this.listenerKeys_ = [];\n\n    /**\n     * @private\n     * @type {boolean}\n     */\n    this.initial_ = true;\n\n    this.updateState_ = this.updateState_.bind(this);\n  }\n\n  /**\n   * @private\n   * @param {string} name A parameter name.\n   * @return {string} A name with the prefix applied.\n   */\n  getParamName_(name) {\n    if (!this.prefix_) {\n      return name;\n    }\n    return this.prefix_ + name;\n  }\n\n  /**\n   * @private\n   * @param {URLSearchParams} params The search params.\n   * @param {string} name The unprefixed parameter name.\n   * @return {string|null} The parameter value.\n   */\n  get_(params, name) {\n    return params.get(this.getParamName_(name));\n  }\n\n  /**\n   * @private\n   * @param {URLSearchParams} params The search params.\n   * @param {string} name The unprefixed parameter name.\n   * @param {string} value The param value.\n   */\n  set_(params, name, value) {\n    params.set(this.getParamName_(name), value);\n  }\n\n  /**\n   * @private\n   * @param {URLSearchParams} params The search params.\n   * @param {string} name The unprefixed parameter name.\n   */\n  delete_(params, name) {\n    params.delete(this.getParamName_(name));\n  }\n\n  /**\n   * @param {import(\"../Map.js\").default|null} map Map.\n   */\n  setMap(map) {\n    const oldMap = this.getMap();\n    super.setMap(map);\n    if (map === oldMap) {\n      return;\n    }\n    if (oldMap) {\n      this.unregisterListeners_(oldMap);\n    }\n    if (map) {\n      this.initial_ = true;\n      this.updateState_();\n      this.registerListeners_(map);\n    }\n  }\n\n  /**\n   * @param {import(\"../Map.js\").default} map Map.\n   * @private\n   */\n  registerListeners_(map) {\n    this.listenerKeys_.push(\n      listen(map, MapEventType.MOVEEND, this.updateUrl_, this),\n      listen(map.getLayerGroup(), EventType.CHANGE, this.updateUrl_, this),\n      listen(map, 'change:layergroup', this.handleChangeLayerGroup_, this)\n    );\n\n    if (!this.replace_) {\n      addEventListener('popstate', this.updateState_);\n    }\n  }\n\n  /**\n   * @param {import(\"../Map.js\").default} map Map.\n   * @private\n   */\n  unregisterListeners_(map) {\n    for (let i = 0, ii = this.listenerKeys_.length; i < ii; ++i) {\n      unlistenByKey(this.listenerKeys_[i]);\n    }\n    this.listenerKeys_.length = 0;\n\n    if (!this.replace_) {\n      removeEventListener('popstate', this.updateState_);\n    }\n\n    const url = new URL(window.location.href);\n    const params = url.searchParams;\n    this.delete_(params, 'x');\n    this.delete_(params, 'y');\n    this.delete_(params, 'z');\n    this.delete_(params, 'r');\n    this.delete_(params, 'l');\n    window.history.replaceState(null, '', url);\n  }\n\n  /**\n   * @private\n   */\n  handleChangeLayerGroup_() {\n    const map = this.getMap();\n    if (!map) {\n      return;\n    }\n    this.unregisterListeners_(map);\n    this.registerListeners_(map);\n    this.initial_ = true;\n    this.updateUrl_();\n  }\n\n  /**\n   * @private\n   */\n  updateState_() {\n    const map = this.getMap();\n    if (!map) {\n      return;\n    }\n    const view = map.getView();\n    if (!view) {\n      return;\n    }\n    const url = new URL(window.location.href);\n    const params = url.searchParams;\n\n    let updateView = false;\n\n    /**\n     * @type {import('../View.js').AnimationOptions}\n     */\n    const viewProperties = {};\n\n    const zoom = readNumber(this.get_(params, 'z'));\n    if (differentNumber(zoom, view.getZoom())) {\n      updateView = true;\n      viewProperties.zoom = zoom;\n    }\n\n    const rotation = readNumber(this.get_(params, 'r'));\n    if (differentNumber(rotation, view.getRotation())) {\n      updateView = true;\n      viewProperties.rotation = rotation;\n    }\n\n    const center = [\n      readNumber(this.get_(params, 'x')),\n      readNumber(this.get_(params, 'y')),\n    ];\n    if (differentArray(center, view.getCenter())) {\n      updateView = true;\n      viewProperties.center = center;\n    }\n\n    if (updateView) {\n      if (!this.initial_ && this.animationOptions_) {\n        view.animate(Object.assign(viewProperties, this.animationOptions_));\n      } else {\n        if (viewProperties.center) {\n          view.setCenter(viewProperties.center);\n        }\n        if ('zoom' in viewProperties) {\n          view.setZoom(viewProperties.zoom);\n        }\n        if ('rotation' in viewProperties) {\n          view.setRotation(viewProperties.rotation);\n        }\n      }\n    }\n\n    const layers = map.getAllLayers();\n    const layersParam = this.get_(params, 'l');\n    if (layersParam && layersParam.length === layers.length) {\n      for (let i = 0, ii = layers.length; i < ii; ++i) {\n        const value = parseInt(layersParam[i]);\n        if (!isNaN(value)) {\n          const visible = Boolean(value);\n          const layer = layers[i];\n          if (layer.getVisible() !== visible) {\n            layer.setVisible(visible);\n          }\n        }\n      }\n    }\n  }\n\n  /**\n   * @private\n   */\n  updateUrl_() {\n    const map = this.getMap();\n    if (!map) {\n      return;\n    }\n    const view = map.getView();\n    if (!view) {\n      return;\n    }\n    const initial = this.initial_;\n    this.initial_ = false;\n\n    const center = view.getCenter();\n    const zoom = view.getZoom();\n    const rotation = view.getRotation();\n\n    const layers = map.getAllLayers();\n    const visibilities = new Array(layers.length);\n    for (let i = 0, ii = layers.length; i < ii; ++i) {\n      visibilities[i] = layers[i].getVisible() ? '1' : '0';\n    }\n\n    const url = new URL(window.location.href);\n    const params = url.searchParams;\n\n    this.set_(params, 'x', writeNumber(center[0]));\n    this.set_(params, 'y', writeNumber(center[1]));\n    this.set_(params, 'z', writeNumber(zoom));\n    this.set_(params, 'r', writeNumber(rotation));\n    this.set_(params, 'l', visibilities.join(''));\n\n    if (url.href !== window.location.href) {\n      if (initial || this.replace_) {\n        window.history.replaceState(null, '', url);\n      } else {\n        window.history.pushState(null, '', url);\n      }\n    }\n  }\n}\n\nexport default Link;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}